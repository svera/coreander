<main>
    <div class="container">
        <div class="row">
            <div class="col-sm">
                <form action="">
                    <div class="input-group mb-3">
                        <label for="search" class="visually-hidden">Search</label>
                        <input type="text" name="search" class="form-control form-control-lg" placeholder="Keywords" required autofocus value="{{.Keywords}}">
                        <button class="btn btn-primary" type="submit" id="button-addon2">Search</button>
                    </div>
                </form>
                {{if gt .Total 0}}
                <p>Found {{.Total}} results</p>
                {{else}}
                <p>No results found</p>
                {{end}}
            </div>
        </div>

        <div class="list-group">
            {{if .Results}} {{range $ID, $book := .Results}}
            <div class="list-group-item list-group-item-action">
                <div class="row">
                    <div class="col-8">
                        <h4 class="text-start">{{$book.Title}}</h4>
                    </div>
                    <div class="col-4 text-end">
                        <a href="files/{{$ID}}" class="btn btn-secondary">Download</a>
                    </div>
                </div>

                <h5 class="text-start">{{$book.Author}}</h5>
                <p class="mb-1 text-start">{{$book.Description}}</p>
            </div>
            {{end}} {{end}}
        </div>

        {{ $length := len .Paginator.Pages }} {{ if gt $length 1 }}
        <nav aria-label="..." class="mt-5">
            <ul class="pagination justify-content-center flex-wrap">
                {{$disabled := ""}} {{$ariaDisabled := ""}} {{ if not .Paginator.PreviousLink }} {{$disabled = "disabled"}} {{$ariaDisabled = "aria-disabled=\"true\""}} {{end}}
                <li class="page-item {{$disabled}}">
                    <a class="page-link" href="{{.Paginator.PreviousLink}}" tabindex="-1" {{$ariaDisabled}}>Previous</a>
                </li>
                {{range $number, $page := .Paginator.Pages}} {{$active := ""}} {{ if $page.IsCurrent }} {{$active = "active"}} {{end}}
                <li class="page-item {{$active}}"><a class="page-link" href="{{$page.Link}}">{{$number}}</a></li>
                {{end}} {{$disabled := ""}} {{$ariaDisabled := ""}} {{ if not .Paginator.NextLink }} {{$disabled = "disabled"}} {{$ariaDisabled = "aria-disabled=\"true\""}} {{end}}
                <li class="page-item {{$disabled}}">
                    <a class="page-link" href="{{.Paginator.NextLink}}" tabindex="-1" {{$ariaDisabled}}>Next</a>
                </li>
            </ul>
        </nav>
        {{end}}

    </div>