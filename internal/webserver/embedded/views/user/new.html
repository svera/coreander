<div class="row mb-3 mt-5">
    <div class="col mb-3">
        <h2>{{t .Lang "New user"}}</h2>
    </div>

    <form hx-post="/users" hx-swap="outerHTML" hx-target="closest div" autocomplete="off">
        <div class="mb-3">
            <label for="name" class="form-label">{{t .Lang "Name"}}</label>
            <input type="text" name="name" class='form-control {{if ne (index .Errors "name") ""}}is-invalid{{end}}' id="name" required="required" value="{{.User.Name}}" maxlength="50">
            {{if ne (index .Errors "name") ""}}
            <div class="invalid-feedback">
                {{t .Lang .Errors.name}}
            </div>
            {{end}}
        </div>
        <div class="mb-3">
            <label for="username" class="form-label">{{t .Lang "Username"}}</label>
            <input type="text" name="username" class='form-control {{if ne (index .Errors "username") ""}}is-invalid{{end}}' id="username" required="required" value="{{.User.Username}}" maxlength="20" pattern="{{.UsernamePattern}}">
            {{if ne (index .Errors "username") ""}}
            <div class="invalid-feedback">
                {{t .Lang .Errors.username}}
            </div>
            {{end}}
        </div>
        <div class="mb-3">
            <label for="email" class="form-label">{{t .Lang "Email"}}</label>
            <input type="email" name="email" class='form-control {{if ne (index .Errors "email") ""}}is-invalid{{end}}' id="email" required="required" value="{{.User.Email}}" maxlength="100">
            {{if ne (index .Errors "email") ""}}
            <div class="invalid-feedback">
                {{t .Lang .Errors.email}}
            </div>
            {{end}}
        </div>
        <div class="mb-3">
            <label for="password" class="form-label">{{t .Lang "Password"}}</label>
            <input type="password" name="password" class='form-control {{if ne (index .Errors "password") ""}}is-invalid{{end}}' id="password" required="required"
                minlength="{{.MinPasswordLength}}" maxlength="50" autocomplete="new-password">
            {{if ne (index .Errors "password") ""}}
            <div class="invalid-feedback">
                {{t .Lang .Errors.password .MinPasswordLength}}
            </div>
            {{end}}
        </div>
        <div class="mb-3">
            <label for="confirm-password" class="form-label">{{t .Lang "Confirm password"}}</label>
            <input type="password" name="confirm-password" class='form-control {{if ne (index .Errors "confirmpassword") ""}}is-invalid{{end}}' id="confirm-password"
                required="required" minlength="{{.MinPasswordLength}}" maxlength="50">
            {{if ne (index .Errors "confirmpassword") ""}}
            <div class="invalid-feedback">
                {{t .Lang .Errors.confirmpassword}}
            </div>
            {{end}}
        </div>
        <div class="mb-3">
            <label for="role" class="form-label">{{t .Lang "Role"}}</label>
            <select name="role" class="form-control" id='form-control {{if ne (index .Errors "role") ""}}is-invalid{{end}}'>
                <option value="1">{{t .Lang "Regular"}}</option>
                <option value="2" {{if eq .User.Role 2}}selected="selected"{{end}}>{{t .Lang "Administrator"}}</option>
            </select>
            {{if ne (index .Errors "role") ""}}
            <div class="invalid-feedback">
                {{t .Lang .Errors.role}}
            </div>
            {{end}}
        </div>

        <button type="submit" class="btn btn-primary">{{t .Lang "Create"}}</button>
    </form>
</div>
