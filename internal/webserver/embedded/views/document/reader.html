<!DOCTYPE html>
<meta charset="utf-8">
<meta name="color-scheme" content="light dark">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>{{.Title}}</title>
<meta name="description" content="{{.Description}}">
<meta name="author" content="{{.Author}}">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png{{versionParam .Version}}">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png{{versionParam .Version}}">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png{{versionParam .Version}}">
<link rel="manifest" href="/images/site.webmanifest{{versionParam .Version}}">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg{{versionParam .Version}}" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<link href="/css/reader.css{{versionParam .Version}}" rel="stylesheet">

<input type="hidden" id="url" value="{{.fqdn}}/documents/{{.Slug}}/download">
<input type="hidden" id="slug" value="{{.Slug}}">
<input type="hidden" id="authenticated" value="{{if and (.Session) (ne .Session.Name "")}}true{{else}}false{{end}}">

<div id="spinner-container" class="filter">
    <div>
        <svg width="96" height="96" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><style>.spinner{transform-origin:center;animation:spinner_svv2 .75s infinite linear}@keyframes spinner_svv2{100%{transform:rotate(360deg)}}</style><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner"/></svg>
    </div>
</div>

<div id="error-icon-container" class="d-none">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="256" height="256" viewBox="0 0 256 256" xml:space="preserve">
        <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)" >
            <path d="M 28.5 65.5 c -1.024 0 -2.047 -0.391 -2.829 -1.172 c -1.562 -1.562 -1.562 -4.095 0 -5.656 l 33 -33 c 1.561 -1.562 4.096 -1.562 5.656 0 c 1.563 1.563 1.563 4.095 0 5.657 l -33 33 C 30.547 65.109 29.524 65.5 28.5 65.5 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(236,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
            <path d="M 61.5 65.5 c -1.023 0 -2.048 -0.391 -2.828 -1.172 l -33 -33 c -1.562 -1.563 -1.562 -4.095 0 -5.657 c 1.563 -1.562 4.095 -1.562 5.657 0 l 33 33 c 1.563 1.562 1.563 4.095 0 5.656 C 63.548 65.109 62.523 65.5 61.5 65.5 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(236,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
            <path d="M 45 90 C 20.187 90 0 69.813 0 45 C 0 20.187 20.187 0 45 0 c 24.813 0 45 20.187 45 45 C 90 69.813 69.813 90 45 90 z M 45 8 C 24.598 8 8 24.598 8 45 c 0 20.402 16.598 37 37 37 c 20.402 0 37 -16.598 37 -37 C 82 24.598 65.402 8 45 8 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(236,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
        </g>
    </svg>
</div>

<div id="dimming-overlay" aria-hidden="true"></div>

<!-- Footnote Modal -->
<dialog id="footnote-modal" aria-labelledby="footnote-title" data-error-message='<p><em>{{t .Lang "Footnote content could not be loaded. This may be an external reference or the footnote may not be available in this document."}}</em></p>'>
    <div class="modal-header">
        <h3 id="footnote-title">{{t .Lang "Footnote"}}</h3>
        <button id="footnote-close" aria-label='{{t .Lang "Close footnote"}}' type="button">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        </button>
    </div>
    <div class="modal-content" id="footnote-content" tabindex="-1">
        <!-- Footnote content will replace this paragraph if loading is successful -->
    </div>
</dialog>
<div id="side-bar">
    <button id="side-bar-close" aria-label='{{t .Lang "Close sidebar"}}' type="button">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
    </button>
    <div id="side-bar-header">
        <img id="side-bar-cover">
        <div>
            <a href="/documents/{{.Slug}}"><h1 id="side-bar-title"></h1></a>
            <p id="side-bar-author"></p>
        </div>
    </div>
    <div id="toc-view"></div>
</div>
<div id="header-bar" class="toolbar">
    <button id="side-bar-button" aria-label='{{t .Lang "Show sidebar"}}'>
        <svg class="icon" width="24" height="24" aria-hidden="true">
            <path d="M 4 6 h 16 M 4 12 h 16 M 4 18 h 16"/>
        </svg>
    </button>
    <div id="font-size-controls">
        <button id="decrease-font" aria-label='{{t .Lang "Decrease font size"}}' title='{{t .Lang "Decrease font size"}}'>
            <svg class="icon" width="24" height="24" aria-hidden="true">
                <text x="11" y="18" text-anchor="middle" font-size="18" font-weight="bold">A</text>
                <line x1="17" y1="14" x2="22" y2="14" stroke="currentColor" stroke-width="2"/>
            </svg>
        </button>
        <button id="reset-font" aria-label='{{t .Lang "Reset font size"}}' title='{{t .Lang "Reset font size"}}'>
            <svg class="icon" width="24" height="24" aria-hidden="true">
                <text x="12" y="18" text-anchor="middle" font-size="16" font-weight="bold">A</text>
            </svg>
        </button>
        <button id="increase-font" aria-label='{{t .Lang "Increase font size"}}' title='{{t .Lang "Increase font size"}}'>
            <svg class="icon" width="24" height="24" aria-hidden="true">
                <text x="11" y="18" text-anchor="middle" font-size="18" font-weight="bold">A</text>
                <line x1="17" y1="14" x2="22" y2="14" stroke="currentColor" stroke-width="2"/>
                <line x1="19.5" y1="11" x2="19.5" y2="17" stroke="currentColor" stroke-width="2"/>
            </svg>
        </button>
    </div>
    <div id="menu-button" class="menu-container">
        <button aria-label='{{t .Lang "Show settings"}}' aria-haspopup="true">
            <svg class="icon" width="24" height="24" aria-hidden="true">
                <path d="M5 12.7a7 7 0 0 1 0-1.4l-1.8-2 2-3.5 2.7.5a7 7 0 0 1 1.2-.7L10 3h4l.9 2.6 1.2.7 2.7-.5 2 3.4-1.8 2a7 7 0 0 1 0 1.5l1.8 2-2 3.5-2.7-.5a7 7 0 0 1-1.2.7L14 21h-4l-.9-2.6a7 7 0 0 1-1.2-.7l-2.7.5-2-3.4 1.8-2Z"/>
                <circle cx="12" cy="12" r="3"/>
            </svg>
        </button>
    </div>
</div>
<div id="nav-bar" class="toolbar">
    <button id="left-button" aria-label='{{t .Lang "Go left"}}'>
        <svg class="icon" width="24" height="24" aria-hidden="true">
            <path d="M 15 6 L 9 12 L 15 18"/>
        </svg>
    </button>
    <input id="progress-slider" type="range" min="0" max="1" step="any" list="tick-marks">
    <datalist id="tick-marks"></datalist>
    <button id="right-button" aria-label='{{t .Lang "Go right"}}'>
        <svg class="icon" width="24" height="24" aria-hidden="true">
            <path d="M 9 6 L 15 12 L 9 18"/>
        </svg>
    </button>
</div>

<script id="i18n" type="application/json">{"i18n":{
    "paginated": {{t .Lang "Paginated"}},
    "scrolled": {{t .Lang "Scrolled"}},
    "continuous": {{t .Lang "Continuous"}},
    "untitled_document": {{t .Lang "Untitled document"}},
    "auto": {{t .Lang "Auto"}},
    "light": {{t .Lang "Light"}},
    "dark": {{t .Lang "Dark"}},
    "decrease_font_size": {{t .Lang "Decrease font size"}},
    "reset_font_size": {{t .Lang "Reset font size"}},
    "increase_font_size": {{t .Lang "Increase font size"}},
    "line_height": {{t .Lang "Line height"}},
    "regular": {{t .Lang "Regular"}},
    "font": {{t .Lang "Font"}},
    "serif": {{t .Lang "Serif"}},
    "sans_serif": {{t .Lang "Sans-serif"}},
    "session_expired_reading": {{t .Lang "Session expired. Your reading position is still saved locally."}},
    "position_updated_from_server": {{t .Lang "Reading position updated from another device."}},
    "not_logged_in_reading": {{t .Lang "You are not logged in. Your reading position is saved locally only."}},
    "position_reset_reading": {{t .Lang "Your saved reading position was reset because this document changed."}}
}}</script>

<dialog id="reader-toast" role="alert" aria-live="assertive" aria-atomic="true" data-auto-hide="true" data-delay="5000">
    <div class="toast-content">
        <div class="toast-message"></div>
        <button type="button" class="toast-close" aria-label="Close">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z"/>
            </svg>
        </button>
    </div>
</dialog>

<script src="/js/reader.js{{versionParam .Version}}" type="module"></script>
